(function(){define(["utilities/global","controllers/application"],function(){var e=window.LSP.utilities,t=function(){var e={},t=window.LSP,n=!1,r=300;return e={name:"reveal",events:{reveal:{},application:{onContextChange:function(e,t){$(".reveal-closed-"+t.previousContext).removeClass("reveal-closed").addClass("reveal-open"),$(".reveal-closed-"+t.context).removeClass("reveal-open").addClass("reveal-closed"),$(".reveal-context-"+t.previousContext).removeClass("reveal-open").removeClass("reveal-closed")},onAttachEvents:function(t,n){e.bindEvents(n.selector)}}},assets:{},bindEvents:function(n){$("*[data-reveal-children]",n).off("click.reveal").on("click.reveal",function(t){return e.toggle(e.buildChildrenSelector(this),!$(this).hasClass("reveal-noAnimation")),t.stopPropagation(),!0}),$(".reveal-showOnMouseover",n).off("mouseenter.reveal").on("mouseenter.reveal",function(t){e.toggle(e.buildChildrenSelector(this),!$(t.currentTarget).hasClass("reveal-noAnimation"))}).off("mouseleave.reveal").on("mouseleave.reveal",function(t){e.toggle(e.buildChildrenSelector(this),!$(t.currentTarget).hasClass("reveal-noAnimation"))}),$(".reveal-closed-"+t.controllers.application.getContext()).removeClass("reveal-open").addClass("reveal-closed")},unbindEvents:function(e){$("*[data-reveal-children]",e).off(".reveal")},buildChildrenSelector:function(e){return $("#"+$(e).data("reveal-children").split(" ").join(", #"))},open:function(e,i){if(!n){i=typeof i=="undefined"?!0:i,e.each(function(e,t){$('*[data-reveal-children="'+t.id+'"], *[data-reveal-children*="'+t.id+' "] ').addClass("reveal-open").removeClass("reveal-closed")});if(i&&t.controllers.application.getContext()!=="phone"){var s=$({});e.each(function(e,t){t=$(t),s.queue(function(){var e=$(this);t.css("display","none").addClass("reveal-open").slideDown({duration:r,easing:"swing",complete:function(){t.addClass("reveal-open").css("display","").removeClass("reveal-closed"),e.dequeue()}})})})}else e.addClass("reveal-open").removeClass("reveal-closed")}},close:function(e,i){n=!0,setTimeout(function(){n=!1},50),i=typeof i=="undefined"?!0:i,e.each(function(e,t){$('*[data-reveal-children*="'+t.id+'"] ').addClass("reveal-closed").removeClass("reveal-open")});if(i&&t.controllers.application.getContext()!=="phone"){var s=$({}),e=e.toArray().reverse();$.each(e,function(e,t){s.queue(function(){var e=$(this);$(t).css("display","block").slideUp({duration:r,easing:"swing",complete:function(){$(this).removeClass("reveal-open").addClass("reveal-closed").css("display",""),e.dequeue()}})})})}else e.addClass("reveal-closed").removeClass("reveal-open")},toggle:function(n,r){var i=t.controllers.application.getContext(),s=n.filter('.reveal-open:not(*[class*="reveal-context"]), .reveal-open.reveal-context-'+i),o=n.filter('.reveal-closed:not(*[class*="reveal-context"]), .reveal-closed.reveal-context-'+i+", .reveal-context-"+i+":not(.reveal-open)");e.open(o,r),e.close(s,r)}},e}();e.register("controller","reveal",t)})})();